


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>To-Do List</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <link rel="stylesheet" href="styles/main.css">
    
</head>
<body>
    <%- include ("partials/header.ejs") %>
    <main>  
        <div class="box" id="heading">
            <h1>Today: <%= new Date().getDate() %>-<%= (new Date().getMonth())+1 %>-<%= new Date().getFullYear() %></h1>
        </div>
        
        <main>
            <div class="box">
                <div class="blocks-container">
                    <% tasks.forEach((task, index) => { %>
                        <div class="item">
                            <input type="checkbox" id="checkbox<%= index %>" <% if (task.completed) { %> checked <% } %>>
                            <label for="checkbox<%= index %>"><%= task.description %></label>
                        </div>
                    <% }) %>
                </div>
                <form id="taskForm" action="/submit" method="post">
                    <div class="container">
                        <input type="text" id="task" name="task" placeholder="New Task">
                        <button type="submit">+</button>
                    </div>
                </form>
            </div>
        </main>
        <script>
            const checkboxes = document.querySelectorAll("[type='checkbox']");
            checkboxes.forEach((checkbox, index) => {
                checkbox.addEventListener("click", () => {
                    const label = document.querySelector(`[for='checkbox${index}']`);
                    label.classList.toggle("completed");
                });
            });
        </script>
        
        
        <% include ("partials/footer.ejs") %>
        <script>
            // Client-side JavaScript for handling button click
            const addButton = document.querySelector(".addmore");
            addButton.addEventListener("click", () => {
                const blocksContainer = document.querySelector(".blocks-container");
                const newBlock = document.createElement("div");
                newBlock.classList.add("item");
                newBlock.innerHTML = `
                    <input type="checkbox">
                    <label for="checkbox"></label>
                `;
                blocksContainer.appendChild(newBlock);
            });
        </script>
        
        
        
      </main>
      
    <%- include ("partials/footer.ejs") %>
    
    
</body>
</html>
